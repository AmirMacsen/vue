# `ğŸ›´<font color='cornflowerblue'>æ•ˆæœ</font>

![](https://note-1302735599.cos.ap-guangzhou.myqcloud.com/VueBase/chapter1/watch_data_computed.gif)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../js/vue.js"></script
</head>
<body>
<style>
    *{
        margin-top: 20px;
    }
    .demo{
        height: 50px;
    }
    .div1{
        padding: 50px;
        background-color: aqua;
    }

</style>

<div id="root" class="container">
    <h2>ä»Šå¤©å¤©æ°”å¾ˆ{{info}}</h2>
    <button type="submit" class="btn-primary" @click="changeStatus">åˆ‡æ¢å¤©æ°”</button>
</div>
<script>
    Vue.config.productionTip = false
    const vm = new Vue({
        el:"#root",
        data:{
            isHot: true,
        },
        methods:{
            changeStatus(){
                this.isHot = !this.isHot
            }
        },
        computed:{
            info(){
                return this.isHot ? "ç‚çƒ­" : "å‡‰çˆ½"
            }
        },
        watch:{
            isHot:{ //å¯ä»¥ç›‘è§†dataä¸­å®šä¹‰çš„å±æ€§
                immediate: true, //åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹
                handler(newVal,oldVal){
                    alert("isHot  "+newVal)
                    alert("isHot  "+oldVal)
                }
            },
            info:{//å¯ä»¥ç›‘è§†è®¡ç®—å±æ€§
                immediate: true,
                handler(newVal, oldVal) {
                    alert("info  "+newVal)
                    alert("info  "+oldVal)
                }
            }
        }
    })

</script>
</body>
</html>

```

# ğŸ›´<font color='cornflowerblue'>åŸºæœ¬ç”¨æ³•æ€»ç»“</font>

- å½“ç›‘å¬çš„å±æ€§å˜åŒ–çš„æ—¶å€™ï¼Œå›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨ï¼Œå¹¶è¿›è¡Œç›¸å…³æ“ä½œ
- ç›‘è§†çš„å±æ€§å¿…é¡»å­˜åœ¨ï¼Œæ‰èƒ½è¿›è¡Œç›‘è§†ï¼Œå¯ä»¥ç›‘è§†æ¯”å¦‚dataã€computed
- ç›‘è§†å±æ€§çš„ä¸¤ç§å†™æ³•
  - new Vueä¸­ç”¨watché…ç½®
  - é€šè¿‡vm.$watchç›‘è§†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../js/vue.js"></script
</head>
<body>
<style>
    *{
        margin-top: 20px;
    }
    .demo{
        height: 50px;
    }
    .div1{
        padding: 50px;
        background-color: aqua;
    }

</style>

<div id="root" class="container">
    <h2>ä»Šå¤©å¤©æ°”å¾ˆ{{info}}</h2>
    <button type="submit" class="btn-primary" @click="changeStatus">åˆ‡æ¢å¤©æ°”</button>
</div>
<script>
    Vue.config.productionTip = false
    const vm = new Vue({
        el:"#root",
        data:{
            isHot: true,
        },
        methods:{
            changeStatus(){
                this.isHot = !this.isHot
            }
        },
        computed:{
            info(){
                return this.isHot ? "ç‚çƒ­" : "å‡‰çˆ½"
            }
        },
/*        watch:{
            isHot:{ //å¯ä»¥ç›‘è§†dataä¸­å®šä¹‰çš„å±æ€§
                immediate: true, //åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹
                handler(newVal,oldVal){
                    alert("isHot  "+newVal)
                    alert("isHot  "+oldVal)
                }
            },
            info:{//å¯ä»¥ç›‘è§†è®¡ç®—å±æ€§
                immediate: true,
                handler(newVal, oldVal) {
                    alert("info  "+newVal)
                    alert("info  "+oldVal)
                }
            }
        }*/
    })
    vm.$watch('info',{
        handler(newVal,oldVal){
            alert(newVal)
            alert(oldVal)
        }
    })

</script>
</body>
</html>

```

## æ·±åº¦ç›‘è§†

> å¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œæ·±åº¦ç›‘è§†

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../js/vue.js"></script>
</head>
<body>
<style>
    *{
        margin-top: 20px;
    }
    .demo{
        height: 50px;
    }
    .div1{
        padding: 50px;
        background-color: aqua;
    }

</style>

<div id="root" class="container">
    <h2>ä»Šå¤©å¤©æ°”å¾ˆ{{info}}</h2>
    <button type="submit" class="btn-primary" @click="changeStatus">åˆ‡æ¢å¤©æ°”</button>
    <hr/>
    <h2>açš„å€¼ä¸º{{numbers.a}}</h2>
    <button type="submit" class="btn-primary" @click="numbers.a++">ç‚¹æˆ‘ä¿®æ”¹açš„å€¼</button>
    <h2>açš„å€¼ä¸º{{numbers.b}}</h2>
    <button type="submit" class="btn-primary" @click="numbers.b++">ç‚¹æˆ‘ä¿®æ”¹bçš„å€¼</button>
</div>
<script>
    Vue.config.productionTip = false
    const vm = new Vue({
        el:"#root",
        data:{
            isHot: true,
            numbers:{
                a:1,
                b:-100,
            }
        },
        methods:{
            changeStatus(){
                this.isHot = !this.isHot
            }
        },
        computed:{
            info(){
                return this.isHot ? "ç‚çƒ­" : "å‡‰çˆ½"
            }
        },
        watch:{
            //ç›‘è§†å¤šçº§ç»“æ„ä¸­å±æ€§çš„å˜åŒ–
            'numbers.a':{
                immediate: true,
                handler(n, o) {
                    console.log('aæ”¹å˜äº†: ',n,o)
                }
            },
            numbers: {
                deep:true,//ç›‘è§†å¤šçº§ç»“æ„ä¸­æ‰€æœ‰å±æ€§çš„å˜åŒ–
                handler(n,o){
                    console.log('numberså˜äº†')
                }
            }
        }
    })

    vm.$watch('info',{
        immediate:true,
        handler(n,o){
            console.log(n,o)
        }
    })
</script>
</body>
</html>

```

# <font color='cornflowerblue'>ğŸš©æ€»ç»“</font>

- Vueä¸­çš„watché»˜è®¤ä¸ç›‘è§†å¤šç»“æ„ä¸­å±æ€§çš„å˜åŒ–ï¼Œé…ç½®deep=trueï¼Œå¯ä»¥æ£€æµ‹å†…éƒ¨å€¼çš„æ”¹å˜
- Vueè‡ªèº«å¯ä»¥ç›‘æµ‹å¯¹è±¡ä¸­å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼Œä½†æ˜¯Vueæä¾›çš„watchä¸è¡Œ

## ç›‘è§†å±æ€§çš„ç®€å†™å½¢å¼

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/vue.js"></script>
    <link href="../js/bootstrap.min.css"/>
</head>
<body>
<style>
    *{
        margin-top: 20px;
    }
    .demo{
        height: 50px;
    }
    .div1{
        padding: 50px;
        background-color: aqua;
    }

</style>

<div id="root" class="container">
    <h2>ä»Šå¤©å¤©æ°”å¾ˆ{{info}}</h2>
    <button type="submit" @click="changeStatus">åˆ‡æ¢å¤©æ°”</button>
    <hr/>
    <h2>açš„å€¼ä¸º{{numbers.a}}</h2>
    <button type="submit" @click="numbers.a++">ç‚¹æˆ‘ä¿®æ”¹açš„å€¼</button>
    <h2>açš„å€¼ä¸º{{numbers.b}}</h2>
    <button type="submit" @click="numbers.b++">ç‚¹æˆ‘ä¿®æ”¹bçš„å€¼</button>
</div>
<script>
    Vue.config.productionTip = false
    const vm = new Vue({
        el:"#root",
        data:{
            isHot: true,
            numbers:{
                a:1,
                b:-100,
            }
        },
        methods:{
            changeStatus(){
                this.isHot = !this.isHot
            }
        },
        computed:{
            info(){
                return this.isHot ? "ç‚çƒ­" : "å‡‰çˆ½"
            }
        },
        watch:{
           isHot(newValue,oldValue){
               console.log('isHot is changed,',newValue, oldValue)
           }
        }
    })


</script>
</body>
</html>
```
